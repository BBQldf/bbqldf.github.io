---
layout:     post
title:      "Are you home alone?""Yes"-Disclosing Security and Privacy Vulnerabilities in Alexa Skills
subtitle:   Arxiv'20
date:       2020-05-15
author:     bbq
header-img: img/post-bg-hacker.jpg
catalog: true
tags:
    - research
    - IoT
    - attacks
---

>Abstract：作者指出了这种家庭助手存在的三个弱点：权限滥用（编理由来获取不必要的权限）、隐藏代码攻击（改后端代码）、隐藏的内容替换（把服务器端提供的内容换了）。作者表示这些攻击这几个弱点不仅不会在上架时被阻止，更可以随意操作应用的功能来套取个人信息，甚至进而从虚拟世界中转入现实中进行攻击。作者还做了实验调查33744个真实应用来证实这些弱点。

# Introduction:
目前的物联网应用的开发的要求比较低，环境非常开放，为了鼓励开发者开发多样的应用，倾向于先淡化安全性的问题。然后作者分别简述了他找到的三个漏洞。

## **关于应用申请权限的问题**
这里提道获取权限有在安装时要求授权的方式，也有在语音交互时直接询问的方式。问题在于，一方面应用可以把隐私信息传到服务器端，然后轻易地被第三方的开发者获取。另一方面，Alex虽然上架前要检查应用授权是否合理，但是检查得不是很好，开发者有很多方法通过，比如随便编一个要权限的理由。

## **关于改后台代码的漏洞**
作者认为整个架构的机制就有问题，后端的代码可以随便改也没人管也没有检查，只要不触犯Alex前端的语音交互的黑名单里的单词，就不会被监管。举了一个例子：本来后端收到发来的消息后会回复一句“想听笑话吗？”，但是被改成了“你一个人在家吗？”就有机会获取隐私信息。

## **关于替换后台提供的内容的漏洞**
作者认为后台传到前端的信息只会在上架的时候被检测一次，之后可以被开发者换成任意内容也不会被监管。举了新闻应用的例子，把提供的新闻换成任意内容都不会引起Alex平台的注意。作者还说这个与修改后台代码其实差不多，差别只是这个连代码都不用改，哪怕Alex能够监管后台代码也不能发现。


最后作者说alexa cloud很严重的问题在于它获取不到第三方应用的服务器端的代码，所以不太好监管。而如果采取流量分析则太困难，因为网络传输本身就是采取了加密等手段来防止了中间者窃取信息的。而且应用太多了，实时监管的规模太大实现不了。
<font color=red size=5>（这几个方面上和手机app没什么区别？）作者的意思可能是手机app前端为主，skill是后端为主</font>

# ADVERSARY MODEL
## 权限问题的模型：
有的应用安装的时候没有申请电话号码权限，但是使用的时候用语音询问用户的电话号码，这不合理。
而应用商店只在有权限时应用正常，缺权限时相应的功能报错就可以了，但是并没有关心这些功能有没有用（废物功能），比如应用提供一个功能，用户问：我电话是多少的时候应用可以回答：是xxxx。这个功能就可以骗过上架检查。作者出示了他的实验截图。
还说了这些应用的要求授权的时候默认都已经是“是”，一点确定就会在几秒钟内把隐私信息发到后端，补救都来不及。

## 修改后端代码的漏洞：
前端发过来的请求不变的情况下，后端可以巧妙设计后（也不需要特别巧妙）就可以为所欲为。文章中主要是详细展示了这个例子：本来是在用户打开它时问要不要听笑话，变成问是不是独自在家，再结合前一个漏洞的地址信息就变成了严重的违法犯罪。之后主要展示了一些严重性，比如儿童使用的情况，发送谣言、诈骗的情况。

## 替换后端提供的内容：
后端提供的内容可以被随意更改，作者做了一个新闻应用，在过审后改为传播不法内容，在7天内都没有被发现。

# A SURVEY STUDY OF ALEXA SKILLS MARKET
作者对37350个真实应用做了调查（但很多调查和前面的漏洞关系不大）

关于权限问题，作者这里调查了几点
1. 首先调查出了有一些应用申请了权限但是不授权可以相同地使用，说明有权限滥用。
2. 然后作者给这些有权限滥用的应用封了个类画了个表,又给被滥用的权限按滥用的次数画了个饼状图
3. 之后作者开始研究同名应用，首先统计了同名应用的数量等。同名应用是被应用商店允许的，但Alexa可以按照语音指令安装应用，所以研究了一下同名时的安装规则。
	3.1 优先安装安装量多的应用
	3.2 已经安装了多个的时候，最早安装的和最后安装的都有较高被唤醒的优先级。
	3.3 此外还有使用历史记录等其它因素的影响。(具体的安装不同的顺序是怎么工作的，[另一工作](https://www.researchgate.net/publication/346584461_Dangerous_Skills_Got_Certified_Measuring_the_Trustworthiness_of_Skill_Certification_in_Voice_Personal_Assistant_Platforms)给出了不一样的结论)
然后调查了开发者，说开发者有时候开发多个应用，所以作者建议Alexa发现一个恶意应用的时候优先去调查同一个作者的其它应用。

# DISCUSSIONS AND COUNTER MEASURES
## 关于滥用权限
作者表示需要在要求授权时写出详细内容，而不是把这些内容放在隐私条款中，然后勾选框要默认为“否”

## 修改后端代码问题
用白名单的方法限制后端到前端的内容。而且只针对了语音和短文本这类形式的内容。这篇文章的题目就局限在家庭语音助手，估计也是因为作者只找到了语音方面的解决方案。具体的解决方案是应用在审核时提交可能会问的问题的范围（类似全列举），然后通过NLP来识别其包含的权限。如果之后有超出这些权限的问题（也是NLP识别和匹配），将会被禁止。作者展示了实验和较高的匹配、识别精确度。

## 关于替换后端提供的内容的漏洞：
leave it for the future...


















